@Test public void testRejectTransformersEAP_7_0_0() throws Exception {
  PathAddress subsystemAddress=PathAddress.pathAddress(UndertowExtension.SUBSYSTEM_PATH);
  PathAddress serverAddress=subsystemAddress.append(UndertowExtension.SERVER_PATH);
  PathAddress hostAddress=serverAddress.append(UndertowExtension.HOST_PATH);
  PathAddress httpsAddress=serverAddress.append(UndertowExtension.HTTPS_LISTENER_PATH);
  PathAddress ajpAddress=serverAddress.append(UndertowExtension.AJP_LISTENER_PATH);
  PathAddress httpAddress=serverAddress.append(UndertowExtension.HTTP_LISTENER_PATH);
  PathAddress reverseProxy=subsystemAddress.append(UndertowExtension.PATH_HANDLERS).append(Constants.REVERSE_PROXY);
  PathAddress reverseProxyServerAddress=reverseProxy.append(Constants.HOST);
  PathAddress modClusterPath=subsystemAddress.append(UndertowExtension.PATH_FILTERS).append(Constants.MOD_CLUSTER);
  PathAddress servletContainer=subsystemAddress.append(UndertowExtension.PATH_SERVLET_CONTAINER);
  PathAddress byteBufferPath=subsystemAddress.append(UndertowExtension.BYTE_BUFFER_POOL_PATH);
  doRejectTest(ModelTestControllerVersion.EAP_7_0_0,EAP7_0_0,new FailedOperationTransformationConfig().addFailedAttribute(byteBufferPath,FailedOperationTransformationConfig.REJECTED_RESOURCE).addFailedAttribute(hostAddress,new FailedOperationTransformationConfig.NewAttributesConfig(HostDefinition.QUEUE_REQUESTS_ON_START)).addFailedAttribute(httpAddress,new FailedOperationTransformationConfig.NewAttributesConfig(HttpListenerResourceDefinition.REQUIRE_HOST_HTTP11,HttpListenerResourceDefinition.PROXY_PROTOCOL,HttpListenerResourceDefinition.ALLOW_UNESCAPED_CHARACTERS_IN_URL,HttpListenerResourceDefinition.RFC6265_COOKIE_VALIDATION)).addFailedAttribute(httpsAddress,new FailedOperationTransformationConfig.NewAttributesConfig(HttpListenerResourceDefinition.REQUIRE_HOST_HTTP11,HttpListenerResourceDefinition.PROXY_ADDRESS_FORWARDING,HttpListenerResourceDefinition.CERTIFICATE_FORWARDING,HttpsListenerResourceDefinition.SSL_CONTEXT,HttpsListenerResourceDefinition.ALLOW_UNESCAPED_CHARACTERS_IN_URL,HttpListenerResourceDefinition.PROXY_PROTOCOL,HttpListenerResourceDefinition.RFC6265_COOKIE_VALIDATION)).addFailedAttribute(reverseProxy,new FailedOperationTransformationConfig.NewAttributesConfig(ReverseProxyHandler.MAX_RETRIES)).addFailedAttribute(reverseProxyServerAddress,new FailedOperationTransformationConfig.NewAttributesConfig(Constants.SSL_CONTEXT)).addFailedAttribute(hostAddress.append(UndertowExtension.PATH_HTTP_INVOKER),FailedOperationTransformationConfig.REJECTED_RESOURCE).addFailedAttribute(subsystemAddress.append(UndertowExtension.PATH_APPLICATION_SECURITY_DOMAIN),FailedOperationTransformationConfig.DISCARDED_RESOURCE).addFailedAttribute(modClusterPath,new FailedOperationTransformationConfig.RejectExpressionsConfig(MAX_AJP_PACKET_SIZE)).addFailedAttribute(modClusterPath,FailedOperationTransformationConfig.ChainedConfig.createBuilder(SSL_CONTEXT,ModClusterDefinition.MAX_RETRIES,ModClusterDefinition.FAILOVER_STRATEGY,MAX_AJP_PACKET_SIZE).addConfig(new FailedOperationTransformationConfig.RejectExpressionsConfig(MAX_AJP_PACKET_SIZE)).addConfig(new FailedOperationTransformationConfig.NewAttributesConfig(SSL_CONTEXT,ModClusterDefinition.MAX_RETRIES,ModClusterDefinition.FAILOVER_STRATEGY)).build()).addFailedAttribute(subsystemAddress.append(UndertowExtension.PATH_APPLICATION_SECURITY_DOMAIN).append(UndertowExtension.PATH_SSO),FailedOperationTransformationConfig.REJECTED_RESOURCE).addFailedAttribute(subsystemAddress.append(UndertowExtension.PATH_APPLICATION_SECURITY_DOMAIN),FailedOperationTransformationConfig.REJECTED_RESOURCE).addFailedAttribute(servletContainer,new FailedOperationTransformationConfig.NewAttributesConfig(ServletContainerDefinition.DEFAULT_COOKIE_VERSION,ServletContainerDefinition.FILE_CACHE_MAX_FILE_SIZE,ServletContainerDefinition.FILE_CACHE_METADATA_SIZE,ServletContainerDefinition.FILE_CACHE_TIME_TO_LIVE,ServletContainerDefinition.DISABLE_FILE_WATCH_SERVICE,ServletContainerDefinition.DISABLE_SESSION_ID_REUSE)).addFailedAttribute(ajpAddress,new FailedOperationTransformationConfig.NewAttributesConfig(ALLOW_UNESCAPED_CHARACTERS_IN_URL,RFC6265_COOKIE_VALIDATION)));
}
